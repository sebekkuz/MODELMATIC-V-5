export class MinHeap<T>{private a:T[]=[];constructor(private less:(x:T,y:T)=>boolean){}push(x:T){this.a.push(x);this.up(this.a.length-1);}pop():T|undefined{if(!this.a.length)return;const t=this.a[0];const x=this.a.pop()!;if(this.a.length){this.a[0]=x;this.down(0);}return t;}peek():T|undefined{return this.a[0];}size(){return this.a.length;}private up(i:number){const{a,less}=this;while(i){const p=(i-1>>1);if(!less(a[i],a[p]))break;[a[i],a[p]]=[a[p],a[i]];i=p;}}private down(i:number){const{a,less}=this;for(;;){const l=i*2+1,r=l+1;let m=i;if(l<a.length&&less(a[l],a[m]))m=l;if(r<a.length&&less(a[r],a[m]))m=r;if(m===i)break;[a[i],a[m]]=[a[m],a[i]];i=m;}}}
